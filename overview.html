<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Neighborhood Snacks ‚Äî Functions Overview</title>

  <!-- Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Lato:wght@400;600&family=Pacifico&family=Poppins:wght@600;700&display=swap"
    rel="stylesheet">

  <!-- Mint-Glow Donut Favicon (SVG data) -->
  <link rel="icon" type="image/svg+xml"
    href='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="128" height="128" viewBox="0 0 128 128"%3E%3Cdefs%3E%3CradialGradient id="m1" cx="50%25" cy="45%25" r="55%25"%3E%3Cstop offset="0%25" stop-color="%23eafff8"/%3E%3Cstop offset="60%25" stop-color="%2399e2d1"/%3E%3Cstop offset="100%25" stop-color="%2369b7a6"/%3E%3C/radialGradient%3E%3CradialGradient id="m2" cx="50%25" cy="50%25" r="38%25"%3E%3Cstop offset="0%25" stop-color="%23ffffff"/%3E%3Cstop offset="100%25" stop-color="%23dcfff5"/%3E%3C/radialGradient%3E%3C/defs%3E%3Ccircle cx="64" cy="64" r="54" fill="url(%23m1)"/%3E%3Ccircle cx="64" cy="64" r="38" fill="%23fff"/%3E%3Ccircle cx="64" cy="64" r="34" fill="url(%23m2)"/%3E%3C/svg%3E' />

  <style>
    /* =========================
       COLOR SYSTEM (Dark Technical)
       ========================= */
    :root {
      /* Core dark palette */
      --slate-900: #0f1416;
      /* page background */
      --slate-850: #141a1d;
      /* header/footer overlay tint */
      --slate-800: #192024;
      /* cards base */
      --slate-700: #1f2930;

      /* Mint glow accents */
      --mint-100: #eafff8;
      --mint-200: #dcfff5;
      --mint-300: #baf4e2;
      --mint-400: #99e2d1;
      --mint-500: #79d1be;
      --mint-700: #3da593;

      /* Typography */
      --ink: #e8f2ef;
      /* light text on dark */
      --ink-dim: #b8c7c3;
      /* secondary text */
      --muted: #93a29f;
      /* muted text */

      /* Surfaces & Effects */
      --card: #12181b;
      /* deep card base */
      --card-2: #141c20;
      --divider: #2a353a;
      /* mint-ish divider line */
      --glow: 0 0 24px rgba(153, 226, 209, .25), 0 0 64px rgba(153, 226, 209, .15);
      --shadow: 0 10px 30px rgba(0, 0, 0, .35);
      --radius: 18px;
    }

    /* =========================
       GLOBAL + BACKGROUND ANIMATION
       ========================= */
    html,
    body {
      margin: 0;
      padding: 0;
      font-family: Lato, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      color: var(--ink);
      height: 100%;
      background: var(--slate-900);
      /* Animated full-viewport vertical mint glow (soft loop) */
      background-image:
        radial-gradient(40% 30% at 50% -20%, rgba(153, 226, 209, .18), transparent 60%),
        linear-gradient(180deg, rgba(105, 183, 166, .18), rgba(15, 20, 22, 1) 45%, rgba(105, 183, 166, .18));
      background-size: 100% 200%, 100% 200%;
      animation: bgBreath 16s ease-in-out infinite;
    }

    @keyframes bgBreath {
      0% {
        background-position: 50% 0%, 50% 0%;
      }

      50% {
        background-position: 50% 100%, 50% 100%;
      }

      100% {
        background-position: 50% 0%, 50% 0%;
      }
    }

    a {
      color: var(--mint-300);
      text-decoration: none
    }

    a:hover {
      text-decoration: underline
    }

    .container {
      width: min(1100px, 92%);
      margin: 0 auto
    }

    /* =========================
       HEADER (dark with mint accents)
       ========================= */
    header {
      position: sticky;
      top: 0;
      z-index: 20;
      background: color-mix(in oklab, var(--slate-850) 70%, rgba(153, 226, 209, .05));
      border-bottom: 1px solid rgba(153, 226, 209, .15);
      backdrop-filter: saturate(140%) blur(8px);
    }

    .nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 14px 0
    }

    .brand {
      display: flex;
      gap: 12px;
      align-items: center
    }

    .brand .logo {
      width: 44px;
      height: 44px;
      border-radius: 12px;
      position: relative;
      background: radial-gradient(45% 45% at 55% 40%, #eafff8 0%, #99e2d1 60%, #69b7a6 100%);
      box-shadow: var(--glow);
    }

    .brand .logo:before {
      /* inner hole highlight */
      content: "";
      position: absolute;
      inset: 8px;
      border-radius: 10px;
      background: radial-gradient(50% 50% at 50% 50%, #101618 0%, #243033 100%);
    }

    .donut-badge {
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: radial-gradient(50% 50% at 60% 40%, #eafff8 0%, #99e2d1 60%, #69b7a6 100%);
      box-shadow: var(--glow);
      margin-left: -6px;
    }

    .brand h1 {
      font-family: Poppins, sans-serif;
      font-weight: 700;
      font-size: 18px;
      margin: 0;
      letter-spacing: .2px;
      color: var(--ink)
    }

    .tagline {
      font-family: Pacifico, cursive;
      font-size: 13px;
      color: var(--muted)
    }

    /* Header buttons */
    .btn {
      display: inline-block;
      padding: 10px 16px;
      border-radius: 999px;
      border: 1px solid rgba(153, 226, 209, .3);
      background: linear-gradient(90deg, rgba(25, 32, 36, .9), rgba(25, 32, 36, .7));
      color: var(--mint-200);
      font-weight: 700;
      font-family: Poppins, sans-serif;
      box-shadow: var(--shadow)
    }

    .btn:hover {
      transform: translateY(-1px);
      transition: 150ms;
      box-shadow: var(--glow)
    }

    /* =========================
       PAGE TRANSITION + SPINNER (mint)
       ========================= */
    .page-fade {
      position: fixed;
      inset: 0;
      background: rgba(153, 226, 209, .18);
      opacity: 0;
      pointer-events: none;
      transition: opacity .28s ease;
      z-index: 9990;
    }

    .page-fade.active {
      opacity: 1;
      pointer-events: auto;
    }

    .spinner-wrap {
      position: fixed;
      inset: 0;
      display: grid;
      place-items: center;
      z-index: 9991;
      pointer-events: none;
      opacity: 0;
      transition: opacity .18s ease;
    }

    .spinner-wrap.active {
      opacity: 1
    }

    .spinner {
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background: radial-gradient(50% 50% at 58% 42%, #eafff8 0%, #99e2d1 60%, #69b7a6 100%);
      position: relative;
      animation: spin 1.1s linear infinite;
      box-shadow: var(--glow);
    }

    .spinner:before {
      content: "";
      position: absolute;
      inset: 12px;
      border-radius: 50%;
      background: radial-gradient(50% 50% at 50% 50%, #0f1416 0%, #182125 100%);
    }

    @keyframes spin {
      to {
        transform: rotate(360deg)
      }
    }

    /* =========================
       HERO
       ========================= */
    .hero {
      border-radius: 24px;
      margin: 18px auto 26px;
      padding: 34px 20px;
      background: linear-gradient(180deg, rgba(25, 32, 36, .75), rgba(20, 26, 29, .75));
      box-shadow: var(--shadow);
      border: 1px solid rgba(153, 226, 209, .18);
      text-align: center;
    }

    .hero h2 {
      font-family: Poppins;
      font-weight: 700;
      font-size: 28px;
      margin: 6px 0 8px
    }

    .hero .lead {
      font-size: 15px;
      color: var(--ink-dim);
      margin: 0
    }

    /* =========================
       TABS (rounded pill, text-only)
       ========================= */
    .tabs {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      margin: 10px auto 20px;
    }

    .tab {
      padding: 10px 16px;
      border-radius: 999px;
      cursor: pointer;
      user-select: none;
      color: var(--mint-200);
      border: 1px solid rgba(153, 226, 209, .35);
      background: linear-gradient(180deg, rgba(20, 26, 29, .85), rgba(20, 26, 29, .65));
      box-shadow: var(--shadow);
      font-weight: 700;
      font-family: Poppins, sans-serif;
      letter-spacing: .2px;
      transition: transform .12s ease, box-shadow .2s ease, color .2s ease;
    }

    .tab:hover {
      transform: translateY(-1px);
      box-shadow: var(--glow);
    }

    .tab.active {
      color: #0e1a17;
      background: linear-gradient(180deg, var(--mint-300), var(--mint-400));
      border-color: transparent;
    }

    /* Active tab underline ‚Äî gentle breathing pulse */
    .tabs-wrap {
      position: relative;
    }

    .active-underline {
      position: absolute;
      height: 3px;
      background: radial-gradient(50% 200% at 50% 50%, var(--mint-300), rgba(153, 226, 209, .4));
      border-radius: 999px;
      left: 0;
      top: 100%;
      width: 100px;
      transform: translateX(0);
      box-shadow: var(--glow);
      animation: pulse 2.6s ease-in-out infinite;
    }

    @keyframes pulse {

      0%,
      100% {
        opacity: .55;
      }

      50% {
        opacity: 1;
      }
    }

    /* =========================
       PANELS (snappy slide transitions)
       ========================= */
    .panels {
      position: relative;
      overflow: hidden;
      border-radius: var(--radius);
      background: linear-gradient(180deg, rgba(20, 26, 29, .7), rgba(20, 26, 29, .5));
      border: 1px solid rgba(153, 226, 209, .18);
      box-shadow: var(--shadow);
    }

    .panel {
      position: absolute;
      inset: 0;
      padding: 22px;
      opacity: 0;
      transform: translateX(30px);
      transition: opacity .18s ease, transform .18s ease;
      /* snappy */
    }

    .panel.active {
      opacity: 1;
      transform: translateX(0);
      position: relative
    }

    /* Feature cards layout */
    .cards {
      display: grid;
      gap: 12px;
    }

    @media(min-width:900px) {
      .cards {
        grid-template-columns: 1fr 1fr;
      }
    }

    .card {
      background: var(--card-2);
      border: 1px solid var(--divider);
      border-radius: 14px;
      padding: 14px 16px;
      box-shadow: 0 8px 22px rgba(0, 0, 0, .25);
    }

    .card h3 {
      font-family: Poppins;
      font-size: 16px;
      margin: 2px 0 6px;
      color: var(--mint-200)
    }

    .card p {
      margin: 0;
      color: var(--ink-dim)
    }

    .divider {
      height: 1px;
      background: var(--divider);
      margin: 10px 0
    }

    /* light mint divider */

    /* =========================
       BOTTOM NAV BUTTONS
       ========================= */
    .nav-bottom {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin-top: 22px
    }

    .btn-next,
    .btn-back {
      padding: 12px 18px;
      border-radius: 999px;
      border: 1px solid rgba(153, 226, 209, .35);
      cursor: pointer;
      font-family: Poppins;
      font-weight: 700;
      color: var(--mint-200);
      background: linear-gradient(90deg, rgba(25, 32, 36, .95), rgba(25, 32, 36, .7));
      box-shadow: var(--shadow);
      transition: transform .12s ease, box-shadow .2s ease;
    }

    .btn-next:hover,
    .btn-back:hover {
      transform: translateY(-2px);
      box-shadow: var(--glow);
    }

    /* Utility spacing */
    .sp-8 {
      height: 8px
    }

    .sp-16 {
      height: 16px
    }

    .sp-24 {
      height: 24px
    }
  </style>
</head>

<body>
  <!-- Page fade + spinner (used for cross-page navigation) -->
  <div class="page-fade" id="pageFade" aria-hidden="true"></div>
  <div class="spinner-wrap" id="spinner" aria-hidden="true">
    <div class="spinner" role="status" aria-label="Loading"></div>
  </div>

  <!-- Header -->
  <header>
    <div class="container nav">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div class="donut-badge" aria-hidden="true"></div>
        <div>
          <h1>Neighborhood Snacks</h1>
          <div class="tagline">Your Neighborhood. Your Snacks. Your Way.</div>
        </div>
      </div>
      <div>
        <!-- Back to Pipeline (top-right quick link) -->
        <a class="btn" href="pipeline.html" data-nav>‚Üê Back to Pipeline</a>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <div class="container hero">
    <h2>Functions Overview</h2>
    <p class="lead">This overview outlines the core software functions of the Neighborhood Snacks platform, organized by
      user role and system layer.</p>
  </div>

  <!-- Tabs -->
  <div class="container tabs-wrap">
    <div class="tabs" id="tabs">
      <!-- NOTE: The data-tab attribute maps to each panel's id -->
      <div class="tab active" data-tab="buyers">Buyers</div>
      <div class="tab" data-tab="sellers">Sellers</div>
      <div class="tab" data-tab="admin">Admin / Managers</div>
      <div class="tab" data-tab="system">System / Technical</div>
    </div>
    <!-- Active underline element moves under the active tab -->
    <div class="active-underline" id="tabUnderline"></div>
  </div>

  <!-- Panels -->
  <main class="container">
    <div class="panels" id="panels">
      <!-- Buyers Panel -->
      <section class="panel active" id="buyers" aria-labelledby="tab-buyers">
        <div class="cards">
          <div class="card">
            <h3>Browse Nearby Sellers</h3>
            <p>Map/list of sellers filtered by distance, category, and rating.</p>
            <div class="divider"></div>
            <p class="muted">Includes real-time availability and estimated delivery times.</p>
          </div>
          <div class="card">
            <h3>Cart & Checkout</h3>
            <p>Secure checkout with Stripe; promo codes and order notes supported.</p>
            <div class="divider"></div>
            <p class="muted">Saves preferred payment methods and addresses.</p>
          </div>
          <div class="card">
            <h3>Order Tracking</h3>
            <p>Live status updates (accepted, in progress, out for delivery, delivered).</p>
            <div class="divider"></div>
            <p class="muted">Push/email notifications for key milestones.</p>
          </div>
          <div class="card">
            <h3>Ratings & Reviews</h3>
            <p>Rate orders and sellers; report issues to support.</p>
            <div class="divider"></div>
            <p class="muted">Aggregated scores surface trustworthy sellers.</p>
          </div>
        </div>
        <div class="nav-bottom">
          <a class="btn-back" href="pipeline.html" data-nav>‚Üê Back to Pipeline</a>
          <a class="btn-next" href="index.html" data-nav>Next: Back to Business Plan ‚Üí</a>
        </div>
      </section>

      <!-- Sellers Panel -->
      <section class="panel" id="sellers" aria-labelledby="tab-sellers">
        <div class="cards">
          <div class="card">
            <h3>Menu & Inventory</h3>
            <p>Add/edit/delete snacks, prices, photos, and quantity on hand.</p>
            <div class="divider"></div>
            <p class="muted">Hold items or mark as unavailable in one tap.</p>
          </div>
          <div class="card">
            <h3>Order Management</h3>
            <p>Accept/decline orders, set prep time, update delivery progress.</p>
            <div class="divider"></div>
            <p class="muted">Auto-notify buyers when status changes.</p>
          </div>
          <div class="card">
            <h3>Delivery Modes</h3>
            <p>Choose foot, bike, scooter, car, or drone (future API).</p>
            <div class="divider"></div>
            <p class="muted">Set radius, fees, and availability windows.</p>
          </div>
          <div class="card">
            <h3>Sales & Analytics</h3>
            <p>See orders/day, revenue, top items, and repeat buyers.</p>
            <div class="divider"></div>
            <p class="muted">Export CSV; compare trends week-over-week.</p>
          </div>
        </div>
        <div class="nav-bottom">
          <a class="btn-back" href="pipeline.html" data-nav>‚Üê Back to Pipeline</a>
          <a class="btn-next" href="index.html" data-nav>Next: Back to Business Plan ‚Üí</a>
        </div>
      </section>

      <!-- Admin Panel -->
      <section class="panel" id="admin" aria-labelledby="tab-admin">
        <div class="cards">
          <div class="card">
            <h3>User & Seller Management</h3>
            <p>Approve sellers, verify identity, handle reports and disputes.</p>
            <div class="divider"></div>
            <p class="muted">Escalation flow with audit logs and notes.</p>
          </div>
          <div class="card">
            <h3>Platform KPIs</h3>
            <p>Track orders, GMV, active sellers, AOV, repeat rate, delivery time.</p>
            <div class="divider"></div>
            <p class="muted">Daily/weekly reports with anomalies flagged.</p>
          </div>
          <div class="card">
            <h3>Content & Promotions</h3>
            <p>Manage featured sellers, discounts, and referral campaigns.</p>
            <div class="divider"></div>
            <p class="muted">A/B test promo banners and conversion.</p>
          </div>
          <div class="card">
            <h3>Trust & Safety</h3>
            <p>Moderation tools, rating thresholds, suspension controls.</p>
            <div class="divider"></div>
            <p class="muted">Compliance exports for legal and insurance.</p>
          </div>
        </div>
        <div class="nav-bottom">
          <a class="btn-back" href="pipeline.html" data-nav>‚Üê Back to Pipeline</a>
          <a class="btn-next" href="index.html" data-nav>Next: Back to Business Plan ‚Üí</a>
        </div>
      </section>

      <!-- System / Technical Panel -->
      <section class="panel" id="system" aria-labelledby="tab-system">
        <div class="cards">
          <div class="card">
            <h3>Authentication & Authorization</h3>
            <p>Firebase Auth (email/password + OAuth), role-based access (buyer/seller/admin).</p>
            <div class="divider"></div>
            <p class="muted">Session security, password reset, device management.</p>
          </div>
          <div class="card">
            <h3>APIs & Data</h3>
            <p>Node/Express REST APIs; Firestore for real-time updates; secure rules.</p>
            <div class="divider"></div>
            <p class="muted">Versioned endpoints, validation, rate limiting.</p>
          </div>
          <div class="card">
            <h3>Payments & Payouts</h3>
            <p>Stripe Connect for multi-seller payouts; refunds & disputes.</p>
            <div class="divider"></div>
            <p class="muted">PCI compliance via Stripe; webhook reconciliation.</p>
          </div>
          <div class="card">
            <h3>Observability & Scaling</h3>
            <p>Logging, error tracking, metrics; CDN + caching; background jobs.</p>
            <div class="divider"></div>
            <p class="muted">CI/CD via GitHub Actions; canary deploys; rollbacks.</p>
          </div>
        </div>
        <div class="nav-bottom">
          <a class="btn-back" href="pipeline.html" data-nav>‚Üê Back to Pipeline</a>
          <a class="btn-next" href="index.html" data-nav>Next: Back to Business Plan ‚Üí</a>
        </div>
      </section>
    </div>
  </main>
  <!-- =========================
 EMBEDDED TIMELINE + KANBAN
========================= -->
  <section class="container" style="margin-top:60px;margin-bottom:120px;">

    <!-- TIMELINE CARD -->
    <div style="
    background:rgba(18,25,27,.85);
    border:1px solid rgba(153,226,209,.2);
    border-radius:18px;
    padding:28px;
    box-shadow:0 8px 30px rgba(0,0,0,.35);
    margin-bottom:40px;">

      <h2 style="font-family:Poppins;font-size:26px;color:var(--mint);margin-top:0;">
        üóì Feature Development Timeline
      </h2>

      <ul style="line-height:1.6;color:var(--mint-soft);padding-left:16px;">
        <li><strong style="color:var(--mint)">Phase 1 (M1-M2):</strong> Landing funnel, pilot signups, geo waitlist, UI
          foundation, Sheets logging</li>
        <li><strong style="color:var(--mint)">Phase 2 (M3-M4):</strong> Seller dashboard, menu tools, inventory, Stripe,
          order history, analytics</li>
        <li><strong style="color:var(--mint)">Phase 3 (M5-M6):</strong> Buyer experience, order tracking, delivery
          modes, reviews, PWA</li>
        <li><strong style="color:var(--mint)">Phase 4 (M7-M8):</strong> Growth dashboard, ref codes, neighborhood
          heatmap</li>
        <li><strong style="color:var(--mint)">Phase 5 (M9-M12):</strong> Scaling, moderation, multi-region launch</li>
      </ul>
    </div>


    <!-- KANBAN EMBED -->
    <div style="
    background:rgba(18,25,27,.85);
    border:1px solid rgba(153,226,209,.2);
    border-radius:18px;
    padding:28px;
    box-shadow:0 8px 30px rgba(0,0,0,.35);">

      <h2 style="font-family:Poppins;font-size:26px;color:var(--mint);margin-top:0;margin-bottom:18px;">
        üß† Development Kanban Overview
      </h2>

      <p style="color:var(--muted);font-size:14px;margin-bottom:16px;">
        High-level development tasks across the buyer, seller, and operator systems.
        <br>
        <a href="kanban.html" style="color:var(--mint-soft);text-decoration:underline;">
          ‚Üí Open full Kanban board
        </a>
      </p>

      <div style="display:flex;gap:14px;overflow-x:auto;padding-bottom:4px;">

        <!-- Backlog -->
        <div style="min-width:180px;">
          <h3 style="color:var(--mint-soft);font-size:15px;font-family:Poppins;">üì• Backlog</h3>
          <div style="font-size:13px;color:var(--ink-dim);">
            Buyer journey map<br>
            Seller onboarding<br>
            Safety & rules engine
          </div>
        </div>

        <!-- To Build -->
        <div style="min-width:180px;">
          <h3 style="color:var(--mint-soft);font-size:15px;font-family:Poppins;">üõ† To Build</h3>
          <div style="font-size:13px;color:var(--ink-dim);">
            Menu editor<br>
            Order status system<br>
            Neighborhood heatmap
          </div>
        </div>

        <!-- In Progress -->
        <div style="min-width:180px;">
          <h3 style="color:var(--mint-soft);font-size:15px;font-family:Poppins;">‚öôÔ∏è In Progress</h3>
          <div style="font-size:13px;color:var(--ink-dim);">
            Seller dashboard UI<br>
            Stripe Connect<br>
            Growth analytics
          </div>
        </div>

        <!-- Done -->
        <div style="min-width:180px;">
          <h3 style="color:var(--mint-soft);font-size:15px;font-family:Poppins;">‚úÖ Done</h3>
          <div style="font-size:13px;color:var(--ink-dim);">
            Landing funnel<br>
            Geo waitlist<br>
            Pilot signup system
          </div>
        </div>

      </div>
    </div>
<!-- =========================
 EMBED: TIMELINE + MINI KANBAN + ADMIN
========================= -->
<section id="dev-suite" class="container" style="margin-top:60px;margin-bottom:120px;">

  <!-- Header row with PDF export -->
  <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:14px;">
    <h2 style="font-family:Poppins;font-size:26px;color:var(--mint);margin:0;">üóì Build Timeline & Kanban</h2>
    <button id="exportPdfBtn" class="btn" style="border-color:rgba(153,226,209,.35)">Export as PDF</button>
  </div>

  <!-- TIMELINE CARD -->
  <div class="timeline-card">
    <div class="timeline-item reveal" data-phase="1" data-progress="80">
      <div class="ring" aria-hidden="true">
        <svg viewBox="0 0 120 120"><circle class="bg" cx="60" cy="60" r="54"/><circle class="fg" cx="60" cy="60" r="54"/></svg>
        <span class="pct">80%</span>
      </div>
      <div class="tcopy">
        <h3>Phase 1 ‚Äî MVP Launch Prep (M1‚Äì2)</h3>
        <p>Landing funnel, pilot signups, geo waitlist, UI foundation, Sheets logging.</p>
        <div class="bar"><span style="width:80%"></span></div>
      </div>
    </div>

    <div class="timeline-item reveal" data-phase="2" data-progress="55">
      <div class="ring">
        <svg viewBox="0 0 120 120"><circle class="bg" cx="60" cy="60" r="54"/><circle class="fg" cx="60" cy="60" r="54"/></svg>
        <span class="pct">55%</span>
      </div>
      <div class="tcopy">
        <h3>Phase 2 ‚Äî Seller Tools & Inventory (M3‚Äì4)</h3>
        <p>Seller dashboard, menu tools, inventory, Stripe (test), KPIs.</p>
        <div class="bar"><span style="width:55%"></span></div>
      </div>
    </div>

    <div class="timeline-item reveal" data-phase="3" data-progress="35">
      <div class="ring">
        <svg viewBox="0 0 120 120"><circle class="bg" cx="60" cy="60" r="54"/><circle class="fg" cx="60" cy="60" r="54"/></svg>
        <span class="pct">35%</span>
      </div>
      <div class="tcopy">
        <h3>Phase 3 ‚Äî Delivery & Buyer UX (M5‚Äì6)</h3>
        <p>Live tracking, notifications, reviews, PWA.</p>
        <div class="bar"><span style="width:35%"></span></div>
      </div>
    </div>

    <div class="timeline-item reveal" data-phase="4" data-progress="20">
      <div class="ring">
        <svg viewBox="0 0 120 120"><circle class="bg" cx="60" cy="60" r="54"/><circle class="fg" cx="60" cy="60" r="54"/></svg>
        <span class="pct">20%</span>
      </div>
      <div class="tcopy">
        <h3>Phase 4 ‚Äî Growth & Analytics (M7‚Äì8)</h3>
        <p>Dashboard, neighborhood scoring, referrals, promo engine.</p>
        <div class="bar"><span style="width:20%"></span></div>
      </div>
    </div>

    <div class="timeline-item reveal" data-phase="5" data-progress="10">
      <div class="ring">
        <svg viewBox="0 0 120 120"><circle class="bg" cx="60" cy="60" r="54"/><circle class="fg" cx="60" cy="60" r="54"/></svg>
        <span class="pct">10%</span>
      </div>
      <div class="tcopy">
        <h3>Phase 5 ‚Äî Scaling & Beta Launch (M9‚Äì12)</h3>
        <p>Regional expansion, moderation, infra scaling.</p>
        <div class="bar"><span style="width:10%"></span></div>
      </div>
    </div>
  </div>

  <!-- MINI KANBAN -->
  <div class="kanban-embed">
    <div class="k-head">
      <h3>üß† Development Kanban</h3>
      <a href="kanban.html" class="btn" style="border-color:rgba(153,226,209,.35)">Open Full Board</a>
    </div>
    <div class="k-board" id="miniBoard">
      <div class="k-col" data-col="backlog">
        <div class="k-title">üì• Backlog</div>
        <div class="k-list" id="k-backlog"></div>
      </div>
      <div class="k-col" data-col="todo">
        <div class="k-title">üõ† To Build</div>
        <div class="k-list" id="k-todo"></div>
      </div>
      <div class="k-col" data-col="doing">
        <div class="k-title">‚öôÔ∏è In Progress</div>
        <div class="k-list" id="k-doing"></div>
      </div>
      <div class="k-col" data-col="done">
        <div class="k-title">‚úÖ Done</div>
        <div class="k-list" id="k-done"></div>
      </div>
    </div>
    <div class="k-note">Tip: drag cards between columns to reorder. Changes save to Google Sheets (placeholder URL).</div>
  </div>
</section>
<style>
/* Timeline container */
.timeline-card{
  background:linear-gradient(180deg, rgba(25,32,36,.85), rgba(20,26,29,.85));
  border:1px solid rgba(153,226,209,.25);
  border-radius:18px; padding:18px; box-shadow:0 8px 30px rgba(0,0,0,.35);
  margin-bottom:28px;
}

/* Items */
.timeline-item{
  display:flex; gap:16px; align-items:center;
  background:var(--card-2); border:1px solid var(--divider); border-radius:14px;
  padding:14px; margin:12px 0; transition:transform .18s ease, box-shadow .18s ease;
}
.timeline-item:hover{ transform:translateY(-2px); box-shadow:0 10px 24px rgba(0,0,0,.28); }

.tcopy h3{ margin:0 0 6px; font-family:Poppins; color:var(--mint-200); font-size:18px }
.tcopy p{ margin:0 0 10px; color:var(--ink-dim) }
.bar{height:8px; background:#203034; border-radius:999px; overflow:hidden; border:1px solid var(--divider)}
.bar > span{display:block; height:100%; background:linear-gradient(90deg, var(--mint-400), var(--mint-200))}

/* Progress ring */
.ring{ position:relative; width:76px; height:76px; flex:0 0 76px }
.ring svg{ width:76px; height:76px; transform:rotate(-90deg) }
.ring .bg{ fill:none; stroke:rgba(153,226,209,.18); stroke-width:10 }
.ring .fg{ fill:none; stroke:var(--mint-300); stroke-width:10; stroke-linecap:round; stroke-dasharray:339; stroke-dashoffset:339; transition:stroke-dashoffset .9s ease }
.ring .pct{ position:absolute; inset:0; display:grid; place-items:center; font-weight:700; color:var(--mint-200) }

/* Mini Kanban */
.kanban-embed{
  background:linear-gradient(180deg, rgba(25,32,36,.85), rgba(20,26,29,.85));
  border:1px solid rgba(153,226,209,.25);
  border-radius:18px; padding:18px; box-shadow:0 8px 30px rgba(0,0,0,.35);
}
.k-head{ display:flex; justify-content:space-between; align-items:center; margin-bottom:10px }
.k-head h3{ font-family:Poppins; color:var(--mint-200); margin:0; font-size:20px }
.k-board{ display:grid; gap:12px }
@media(min-width:1000px){ .k-board{ grid-template-columns: repeat(4, 1fr); } }
.k-col{ background:var(--card-2); border:1px solid var(--divider); border-radius:14px; padding:12px; }
.k-title{ color:var(--mint-soft); font-family:Poppins; font-size:14px; margin:0 0 8px }
.k-list{ display:flex; flex-direction:column; gap:8px; min-height:60px }
.k-card{
  background:#141c20; border:1px solid var(--divider); border-radius:12px; padding:10px;
  color:var(--ink-dim); font-size:13px; cursor:grab; transition:transform .12s ease, box-shadow .12s ease;
}
.k-card:hover{ transform:translateY(-1px); box-shadow:0 10px 24px rgba(0,0,0,.28) }
.k-list.drag-over{ outline:2px dashed var(--mint-300); outline-offset:4px }

/* Admin console (hidden overlay) */
.admin-console{
  position:fixed; inset:0; display:none; place-items:center; background:rgba(0,0,0,.55); z-index:9999;
}
.admin-console.show{ display:grid; }
.admin-card{
  width:min(520px,95%); background:#11181b; color:var(--ink); border:1px solid var(--divider);
  border-radius:16px; padding:18px; box-shadow:0 18px 50px rgba(0,0,0,.6)
}
.admin-card h3{ margin:0 0 10px; font-family:Poppins; color:var(--mint-200) }
.admin-card input{
  width:100%; padding:12px; border-radius:12px; background:#0f1416; color:var(--ink);
  border:1px solid var(--divider); margin-bottom:10px
}
.admin-row{ display:flex; gap:10px; flex-wrap:wrap }
.hint{ color:var(--muted); font-size:12px; margin-top:8px }

/* Reveal animation */
.reveal{ opacity:0; transform:translateY(14px); transition: opacity .5s ease, transform .5s ease }
.reveal.show{ opacity:1; transform:translateY(0) }
</style>
<!-- Hidden Admin Console (unlock with SNACKS) -->
<div id="adminConsole" class="admin-console">
  <div class="admin-card">
    <h3>Admin Console</h3>
    <label>Google Sheets API URL (GET/POST JSON)</label>
    <input id="sheetUrlInput" placeholder="https://script.google.com/macros/s/‚Ä¶/exec" />
    <div class="admin-row">
      <button id="saveApiBtn" class="btn">Save URL</button>
      <button id="reloadDataBtn" class="btn">Reload Data</button>
      <button id="closeAdminBtn" class="btn">Close</button>
    </div>
    <p class="hint">Unlock combo: type <strong>SNACKS</strong> anywhere on the page.</p>
  </div>
</div>
  </section>
  <!-- Footer -->
  <footer class="container" style="margin:34px 0 56px">
    <div
      style="background:linear-gradient(180deg, rgba(25,32,36,.8), rgba(20,26,29,.8)); border:1px solid rgba(153,226,209,.18); border-radius:var(--radius); padding:20px; box-shadow:var(--shadow); text-align:center">
      <strong style="color:var(--mint-200)">Contact</strong>
      <div>Brad Gibson ‚Äî Founder &amp; CEO</div>
      <div>üìû 805-200-7009 ‚Ä¢ ‚úâÔ∏è <a href="mailto:neighborhoodsnack@gmail.com">neighborhoodsnack@gmail.com</a></div>
      <div style="color:var(--muted); font-size:13px">¬© 2025 Neighborhood Snacks ‚Ä¢ Your Neighborhood. Your Snacks. Your
        Way.</div>
    </div>
  </footer>

  <script>
    // ===========================
    // Mint Page Transitions + Spinner (for cross-page nav)
    // ===========================
    const fade = document.getElementById('pageFade');
    const spinner = document.getElementById('spinner');
    document.addEventListener('click', (e) => {
      const link = e.target.closest('a[data-nav]');
      if (!link) return;
      if (e.metaKey || e.ctrlKey || e.shiftKey || e.altKey) return; // allow new tab behavior
      e.preventDefault();
      const href = link.getAttribute('href');
      fade.classList.add('active'); spinner.classList.add('active');
      setTimeout(() => { window.location.href = href; }, 280);
    });

    // ===========================
    // Tabs: snappy slide switching + breathing underline
    // ===========================
    const tabs = Array.from(document.querySelectorAll('.tab'));
    const panels = Array.from(document.querySelectorAll('.panel'));
    const underline = document.getElementById('tabUnderline');
    const tabsContainer = document.getElementById('tabs');

    function setUnderlineTo(el) {
      const rect = el.getBoundingClientRect();
      const parentRect = tabsContainer.getBoundingClientRect();
      underline.style.width = rect.width + 'px';
      underline.style.transform = `translateX(${rect.left - parentRect.left}px)`;
    }

    // Initialize underline on first active tab
    window.addEventListener('load', () => {
      const activeTab = document.querySelector('.tab.active');
      if (activeTab) setUnderlineTo(activeTab);
    });
    window.addEventListener('resize', () => {
      const activeTab = document.querySelector('.tab.active');
      if (activeTab) setUnderlineTo(activeTab);
    });

    tabs.forEach(tab => {
      tab.addEventListener('click', () => {
        // Update active tab
        tabs.forEach(t => t.classList.remove('active'));
        tab.classList.add('active');
        setUnderlineTo(tab);

        // Switch panel with snappy slide
        const id = tab.dataset.tab;
        panels.forEach(p => {
          if (p.id === id) {
            p.classList.add('active');
          } else {
            p.classList.remove('active');
          }
        });
      });
    });
  </script>
  <!-- jsPDF + html2canvas for PDF export -->
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>

<script>
// =============================
// CONFIG (Google Sheets API)
// =============================
const DEFAULT_SHEETS_API = "https://script.google.com/macros/s/PASTE-YOUR-URL-HERE/exec";
let SHEETS_API = localStorage.getItem("ns_sheets_api") || DEFAULT_SHEETS_API;

// =============================
// 1) Scroll Reveal + Ring Animations
// =============================
const obs = new IntersectionObserver((entries)=>{
  entries.forEach(en=>{
    if(en.isIntersecting){
      en.target.classList.add('show');
      // animate ring on first reveal
      const item = en.target;
      const pct = parseInt(item.dataset.progress || '0', 10);
      const circle = item.querySelector('.fg');
      const dash = 339; // 2œÄr with r=54
      circle.style.strokeDashoffset = String(dash - (dash * pct / 100));
      const label = item.querySelector('.pct'); if(label) label.textContent = pct + '%';
      obs.unobserve(item);
    }
  });
}, {threshold: .2});
document.querySelectorAll('.timeline-item.reveal').forEach(el => obs.observe(el));

// =============================
// 2) Mini Kanban ‚Äî in-memory + drag & drop + Sheets sync (placeholder)
// =============================
const seed = {
  backlog: ["Buyer journey map","Seller onboarding & verification","Safety & rules engine"],
  todo:    ["Menu editor","Order status system","Neighborhood heatmap"],
  doing:   ["Seller dashboard UI","Stripe Connect","Growth analytics"],
  done:    ["Landing funnel","Geo waitlist","Pilot signup"]
};
const lists = {
  backlog: document.getElementById('k-backlog'),
  todo:    document.getElementById('k-todo'),
  doing:   document.getElementById('k-doing'),
  done:    document.getElementById('k-done'),
};

function renderBoard(data){
  Object.keys(lists).forEach(col=>{
    lists[col].innerHTML = '';
    (data[col]||[]).forEach(txt=>{
      const card = document.createElement('div');
      card.className = 'k-card'; card.textContent = txt;
      card.draggable = true;
      card.addEventListener('dragstart', e=>{
        e.dataTransfer.setData('text/plain', txt);
        e.dataTransfer.setData('from-col', col);
        setTimeout(()=>card.style.opacity='.2',0);
      });
      card.addEventListener('dragend', ()=>card.style.opacity='1');
      lists[col].appendChild(card);
    });
  });
  bindDnD();
}

function bindDnD(){
  document.querySelectorAll('.k-list').forEach(list=>{
    list.addEventListener('dragover', e=>{ e.preventDefault(); list.classList.add('drag-over'); });
    list.addEventListener('dragleave', ()=> list.classList.remove('drag-over'));
    list.addEventListener('drop', e=>{
      e.preventDefault(); list.classList.remove('drag-over');
      const txt = e.dataTransfer.getData('text/plain');
      const from = e.dataTransfer.getData('from-col');
      const to = list.id.replace('k-','');
      if(!txt || !from || !to) return;

      // move
      const idx = board[from].indexOf(txt);
      if(idx>-1) board[from].splice(idx,1);
      board[to] = board[to] || [];
      board[to].push(txt);
      renderBoard(board);
      saveBoard(); // persist to Sheets
    });
  });
}

let board = {...seed};

// Load from Sheets (GET)
async function loadBoard(){
  try{
    const res = await fetch(SHEETS_API);
    const json = await res.json();
    // Expected optional shape: { backlog:[], todo:[], doing:[], done:[] }
    if(json && (json.backlog||json.todo||json.doing||json.done)){
      board = { ...seed, ...json };
    }
  }catch(e){ console.warn('Using local seed. GET failed or not configured.', e); }
  renderBoard(board);
}
loadBoard();

// Save to Sheets (POST)
async function saveBoard(){
  try{
    await fetch(SHEETS_API, { method:'POST', body: JSON.stringify({ kanban: board }) });
  }catch(e){ console.warn('POST failed (placeholder endpoint).', e); }
}

// =============================
// 3) Export section to PDF (timeline + kanban)
// =============================
document.getElementById('exportPdfBtn').addEventListener('click', async ()=>{
  const el = document.getElementById('dev-suite');
  const canvas = await html2canvas(el, {backgroundColor: null, scale: 2});
  const img = canvas.toDataURL('image/png');
  const { jsPDF } = window.jspdf;
  const pdf = new jsPDF({ unit:'pt', format:'a4', orientation:'portrait' });

  const pageW = pdf.internal.pageSize.getWidth();
  const pageH = pdf.internal.pageSize.getHeight();
  const imgW = pageW - 40, imgH = canvas.height * (imgW / canvas.width);
  let y = 20;

  if(imgH < pageH - 40){
    pdf.addImage(img, 'PNG', 20, y, imgW, imgH, '', 'FAST');
  } else {
    // paginate
    let sY = 0;
    const sliceH = Math.floor(canvas.height * ((pageH - 40) / imgH));
    while (sY < canvas.height) {
      const pageCanvas = document.createElement('canvas');
      pageCanvas.width = canvas.width; pageCanvas.height = sliceH;
      const ctx = pageCanvas.getContext('2d');
      ctx.drawImage(canvas, 0, sY, canvas.width, sliceH, 0, 0, canvas.width, sliceH);
      const pageImg = pageCanvas.toDataURL('image/png');
      pdf.addImage(pageImg, 'PNG', 20, 20, imgW, (sliceH * (imgW / canvas.width)), '', 'FAST');
      sY += sliceH;
      if (sY < canvas.height) pdf.addPage();
    }
  }
  pdf.save('Neighborhood_Snacks_Timeline_Kanban.pdf');
});

// =============================
// 4) Hidden Admin Console (SNACKS)
// =============================
const secret = 'SNACKS';
let buffer = '';
window.addEventListener('keydown', (e)=>{
  buffer = (buffer + e.key.toUpperCase()).slice(-secret.length);
  if(buffer === secret){
    document.getElementById('adminConsole').classList.add('show');
  }
});
document.getElementById('closeAdminBtn').onclick = ()=>document.getElementById('adminConsole').classList.remove('show');
document.getElementById('saveApiBtn').onclick = ()=>{
  const v = document.getElementById('sheetUrlInput').value.trim();
  if(v){ SHEETS_API = v; localStorage.setItem('ns_sheets_api', v); alert('Saved.'); }
};
document.getElementById('reloadDataBtn').onclick = ()=> loadBoard();
</script>
</body>

</html>